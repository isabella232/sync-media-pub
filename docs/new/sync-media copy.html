<!DOCTYPE html>
<html lang="en">

<head>
    <title>Synchronized Media for Publications CG: SyncMedia Specification</title>
    <link rel="stylesheet" href="style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <script src='https://www.w3.org/Tools/respec/respec-w3c-common' class='remove' defer="defer"></script>
    <script class='remove'>
        var respecConfig = {
            specStatus: "CG-DRAFT",
            // specStatus: "ED"
            wg: "Synchronized Media for Publications Community Group",
            wgURI: "https://www.w3.org/community/sync-media-pub/",
            wgPublicList: "public-sync-media-pub",
            editors: [{
                name: "Marisa DeMeglio",
                company: "DAISY Consortium",
                companyURL: "http://www.daisy.org",
                w3cid: 35713
            }, {
                name: "Daniel Weck",
                company: "DAISY Consortium",
                companyURL: "http://www.daisy.org",
                w3cid: 45653
            }, {
                name: "Lars Wallin",
                company: "Colibrio",
                companyURL: "https://colibrio.com/"
            }],
            edDraftURI: "https://w3c.github.io/sync-media-pub//sync-media copy.html",
            shortName: "sync-media-pub",
            noRecTrack: true,
            copyrightStart: "2019",
            // prevRecURI: "",
            //postProcess: [create_wp],
            includePermalinks: true,
            permalinkEdge: true,
            permalinkHide: false,
            diffTool: "http://www.aptest.com/standards/htmldiff/htmldiff.pl",
            github: {
                repoURL: "https://github.com/w3c/sync-media-pub",
                branch: "master"
            },
            localBiblio: {},
        };
    </script>
</head>

<body>
    <section id="abstract">
        <p>This specification defines a format for synchronized media presentations, consisting of different media types orchestrated in a linear timeline. SyncMedia presentations are rendered to a user by a SyncMedia-aware player.</p>
    </section>
    <section id="sotd">
    </section>
    <section id="relationship-to-other-specifications">
        <h1>Relationship to Other Specifications</h1>
        <p>SyncMedia is an evolution of <a href="https://www.w3.org/publishing/epub32/epub-mediaoverlays.html">EPUB3 Media Overlays</a> and, like Media Overlays, is built with <a href="https://www.w3.org/TR/SMIL3/">SMIL</a>. Compared to Media Overlays, SyncMedia incorporates additional SMIL concepts, and also includes custom extensions, prefixed with <code>sync:</code>.</p>
    </section>
    <section id="sync-media">
        <h1>Sync Media</h1>
        <section id="definitions">
            <h2>Definitions</h2>
            <dl>
                <dt><dfn id="dfn-media-object" data-dfn-type="dfn">Media Object</dfn></dt>
                <dd>A media resource in the <a href="#dfn-sync-media-document">Sync Media Document</a>.</dd>
                <dt><dfn id="dfn-media-param" data-dfn-type="dfn">Media Param</dfn></dt>
                <dd>Named parameters to communicate options to the <a href="#dfn-media-object-renderer">Media Object Renderer</a></dd>
                <dt><dfn id="dfn-media-object-renderer" data-dfn-type="dfn">Media Object Renderer</dfn></dt>
                <dd>A component used by the <a href="#dfn-sync-media-player">Sync Media Player</a> to render <a href="#dfn-media-object">Media Objects</a>. Different media types may necessitate different renderers.</dd>
                <dt><dfn id="dfn-parallel-time-container" data-dfn-type="dfn">Parallel Time Container</dfn></dt>
                <dd>A <a href="#dfn-time-container">Time Container</a> in which children are rendered in parallel.</dd>
                <dt><dfn id="dfn-sequential-time-container" data-dfn-type="dfn">Sequential Time Container</dfn></dt>
                <dd>A <a href="#dfn-time-container">Time Container</a> in which children are rendered in sequence.</dd>
                <dt><dfn id="dfn-sync-media-document" data-dfn-type="dfn">Sync Media Document</dfn></dt>
                <dd>The synchronized presentation.</dd>
                <dt><dfn id="dfn-sync-media-player" data-dfn-type="dfn">Sync Media Player</dfn></dt>
                <dd>A user agent that knows how to process and playback <a href="#dfn-sync-media-document">Sync Media Documents</a></dd>
                <dt><dfn id="dfn-timeline" data-dfn-type="dfn">Timeline</dfn></dt>
                <dd>A timeline that lays out <a href="#dfn-time-container">Time Containers</a> in a linear mode.</dd>
                <dt><dfn id="dfn-time-container">Time Container</dfn></dt>
                <dd>Container that dictates the playback mode for its children.</dd>
                <dt><dfn id="dfn-track">Track</dfn></dt>
                <dd>An organizational concept that defines a purposeful virtual rendering space, not tied to a physical layout, with default <a href="#dfn-media-param">Media Params</a>.</dd>
            </dl>
        </section>
        <section id="model">
            <h2>Model</h2>
            <section id="smil">
                <h3><code>smil</code></h3>
                <section id="description">
                    <h4>Description</h4>
                    <p>Root-level container</p>
                </section>
                <section id="content">
                    <h4>Content</h4>
                    <ul>
                        <li><a href="#head"><code>head</code></a> (zero or 1)</li>
                        <li><a href="#body"><code>body</code></a> (exactly 1)</li>
                    </ul>
                </section>
            </section>
            <section id="head">
                <h3><code>head</code></h3>
                <section id="description-2">
                    <h4>Description</h4>
                    <p>Information not related to temporal behavior</p>
                </section>
                <section id="content-2">
                    <h4>Content</h4>
                    <ul>
                        <li><a href="#metadata"><code>metadata</code></a> (zero or one)</li>
                        <li><a href="#sync-track"><code>sync:track</code></a> (zero or more)</li>
                    </ul>
                </section>
            </section>
            <section id="metadata">
                <h3><code>metadata</code></h3>
                <section id="description-3">
                    <h4>Description</h4>
                    <p>Extension point that allows the inclusion of metadata from any metainformation structuring language</p>
                </section>
                <section id="content-3">
                    <h4>Content</h4>
                    <p>Zero or more items</p>
                </section>
            </section>
            <section id="sync%3Atrack">
                <h3><code>sync:track</code></h3>
                <section id="description-4">
                    <h4>Description</h4>
                    <p>Virtual rendering space for grouping <a href="#dfn-media-object">Media Objects</a>. Optional list of <a href="#dfn-media-param">Media Params</a>.</p>
                </section>
                <section id="properties">
                    <h4>Properties</h4>
                    <ul>
                        <li><code>id</code>: required</li>
                        <li><code>trackType</code></li>
                    </ul>
                </section>
                <section id="content-4">
                    <h4>Content</h4>
                    <ul>
                        <li><a href="#param"><code>param</code></a> (zero or more)</li>
                    </ul>
                </section>
            </section>
            <section id="param">
                <h3><code>param</code></h3>
                <section id="description-5">
                    <h4>Description</h4>
                    <p>Allows a general parameter value to be sent to a media object renderer as a name/value pair.</p>
                </section>
                <section id="properties-2">
                    <h4>Properties</h4>
                    <ul>
                        <li><code>name</code>: a single string</li>
                        <li><code>value</code>: a space-separated list</li>
                    </ul>
                </section>
            </section>
            <section id="body">
                <h3><code>body</code></h3>
                <section id="description-6">
                    <h4>Description</h4>
                    <p>Temporal behavior of the presentation</p>
                </section>
                <section id="content-5">
                    <h4>Content</h4>
                    <ul>
                        <li><a href="#seq"><code>seq</code></a> (zero or more)</li>
                        <li><a href="#par"><code>par</code></a> (zero or more)</li>
                    </ul>
                </section>
            </section>
            <section id="seq">
                <h3><code>seq</code></h3>
                <section id="description-7">
                    <h4>Description</h4>
                    <p>A sequence of elements</p>
                </section>
                <section id="content-6">
                    <h4>Content</h4>
                    <ul>
                        <li><a href="#seq"><code>seq</code></a> (zero or more)</li>
                        <li><a href="#par"><code>par</code></a> (zero or more)</li>
                        <li><a href="#text"><code>text</code></a> (zero or more)</li>
                        <li><a href="#audio"><code>audio</code></a> (zero or more)</li>
                    </ul>
                    <p>At least one <code>par</code> or <code>seq</code> is required.</p>
                </section>
                <section id="properties-3">
                    <h4>Properties</h4>
                    <ul>
                        <li><code>sync:role</code>: semantic role</li>
                    </ul>
                </section>
            </section>
            <section id="par">
                <h3><code>par</code></h3>
                <section id="description-8">
                    <h4>Description</h4>
                    <p>Contains media objects which are to be rendered in parallel.</p>
                </section>
                <section id="content-7">
                    <h4>Content</h4>
                    <ul>
                        <li><a href="#seq"><code>seq</code></a> (zero or more)</li>
                        <li><a href="#par"><code>par</code></a> (zero or more)</li>
                        <li><a href="#text"><code>text</code></a> (zero or more)</li>
                        <li><a href="#audio"><code>audio</code></a> (zero or more)</li>
                    </ul>
                </section>
                <section id="properties-4">
                    <h4>Properties</h4>
                    <ul>
                        <li><code>sync:role</code>: semantic role</li>
                    </ul>
                </section>
            </section>
            <section id="text">
                <h3><code>text</code></h3>
                <section id="description-9">
                    <h4>Description</h4>
                    <p>References an element in a markup document</p>
                </section>
                <section id="properties-5">
                    <h4>Properties</h4>
                    <ul>
                        <li><code>sync:track</code>: the ID of a track</li>
                        <li><code>src</code>: Location of media file, [optionally] including a <a href="https://www.w3.org/TR/selectors-states/#FragmentSelector_def">fragment selector</a></li>
                    </ul>
                </section>
                <section id="content-8">
                    <h4>Content</h4>
                    <ul>
                        <li><a href="#param"><code>param</code></a> (zero or more)</li>
                    </ul>
                </section>
            </section>
            <section id="audio">
                <h3><code>audio</code></h3>
                <section id="description-10">
                    <h4>Description</h4>
                    <p>References a clip of audio media</p>
                </section>
                <section id="properties-6">
                    <h4>Properties</h4>
                    <ul>
                        <li><code>sync:track</code>: the ID of a track</li>
                        <li><code>src</code>: Location of media file, [optionally] including a <a href="https://www.w3.org/TR/selectors-states/#FragmentSelector_def">media fragment selector</a></li>
                        <li><code>clipBegin</code>: <strong>(backwards compatible with Media Overlays)</strong></li>
                        <li><code>clipEnd</code>: <strong>(backwards compatible with Media Overlays)</strong></li>
                    </ul>
                </section>
                <section id="content-9">
                    <h4>Content</h4>
                    <ul>
                        <li><a href="#param"><code>param</code></a> (zero or more)</li>
                    </ul>
                </section>
            </section>
        </section>
        <section id="playback-rules">
            <h2>Playback rules</h2>
            <section id="rendering-body">
                <h3>Rendering <code>body</code></h3>
                <ul>
                    <li><code>body</code> behaves like a <code>seq</code></li>
                </ul>
            </section>
            <section id="rendering-seq">
                <h3>Rendering <code>seq</code></h3>
                <ul>
                    <li>Render each child in order, each starting after the previous completes.</li>
                </ul>
            </section>
            <section id="rendering-par">
                <h3>Rendering <code>par</code></h3>
                <ul>
                    <li>Render each child in parallel.</li>
                </ul>
            </section>
            <section id="rendering-text-and-audio">
                <h3>Rendering <code>text</code> and <code>audio</code></h3>
                <ul>
                    <li>Locate the segment of the referenced media and render it</li>
                    <li>Apply <code>param</code> values from the <code>paramGroup</code> (if referenced)</li>
                    <li>Apply <code>param</code> values local to the media object instance</li>
                </ul>
            </section>
        </section>
        <section id="serialization">
            <h2>Serialization</h2>
            <p>It is possible that encodings other than XML, such as JSON, could be used to persist and distribute SyncMedia Documents.</p>
        </section>
    </section>
    <section id="examples">
        <h1>Examples</h1>
        <pre><code>&lt;smil&gt;
    &lt;head&gt;
        &lt;sync:track id=&quot;textTrack&quot; trackType=&quot;document&quot;&gt;
            &lt;param name=&quot;cssClass&quot; value=&quot;highlight&quot;/&gt;
        &lt;/sync:track&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;par&gt;
            &lt;audio src=&quot;audio.mp3#t=0,20&quot;/&gt;
            &lt;text src=&quot;file.html#p1&quot; sync:track=&quot;textTrack&quot;/&gt;
        &lt;/par&gt;
        &lt;par&gt;
            &lt;audio src=&quot;audio.mp3#t=20,30&quot;/&gt;
            &lt;text src=&quot;file.html#p2&quot; sync:track=&quot;textTrack&quot;/&gt;
        &lt;/par&gt;
            
    &lt;/body&gt;
&lt;/smil&gt;

</code></pre>
    </section>
    <section id="issues">
        <h1>Issues</h1>
        <ul>
            <li>Are there issues with using the term <code>role</code>?</li>
            <li>Should we specify a role vocabulary or stay agnostic? If the latter, where do authors indicate their role vocabulary?</li>
            <li>What should the approach be to referencing timed media in an HTML file? E.g. can you have <code>&lt;ref src=&quot;file.html#video&quot;/&gt;</code> where <code>#video</code> is an HTML video element?</li>
            <li>How to refer to a SyncMedia file from an HTML document? How about <code>&lt;link rel=&quot;alternate&quot; type=&quot;syncmedia-mimetype-TODO&quot; href=&quot;sync.xml&quot;&gt;</code> ? This goes along with using <code>alternate</code> for <a href="incorporating-into-pubmanifest.html">incorporating SyncMedia into a Publication Manifest</a>.</li>
            <li>Would a <code>sync:selectorType</code> property help?</li>
        </ul>
    </section>
</body>

</html>